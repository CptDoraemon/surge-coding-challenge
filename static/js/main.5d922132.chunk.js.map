{"version":3,"sources":["services/use-get-top-10-by-market-cap.tsx","theme.ts","helpers/use-mounted.tsx","services/use-request-state.tsx","components/flip-letter.tsx","components/flip-row.tsx","components/currency-selector.tsx","components/use-refresh-data-automatically.ts","components/mock-loading-data.tsx","components/use-update-after-data-refreshed.ts","components/price-board.tsx","pages/main.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Currency","theme","createMuiTheme","palette","primary","main","contrastText","secondary","info","typography","responsiveFontSizes","useMounted","callback","isMountedRef","useRef","useEffect","current","useRequestState","useState","isLoading","setIsLoading","errorMessage","setErrorMessage","data","setData","isError","resetError","useCallback","setGenericErrorMessage","useGetTop10ByMarketCap","currency","url","doGet","a","axios","get","rawData","names","Data","map","item","CoinInfo","Name","currencySymbols","DISPLAY","TOSYMBOL","prices","RAW","PRICE","toFixed","textArray","name","i","short","Math","max","length","Array","fill","join","message","commonStyles","createStyles","dimension","width","height","centering","display","flexDirection","alignItems","justifyContent","textStyles","fontFamily","backgroundColor","color","fontSize","fontWeight","textTransform","useStyles","makeStyles","root","perspective","margin","wrapper","position","transformStyle","active","transform","front","backfaceVisibility","back","FlipLetter","isFront","row","column","classes","className","clsx","style","transition","spacing","fillUpArrayToLength","array","result","slice","push","FlipRow","frontText","backText","letterLength","useMemo","frontTextArray","split","backTextArray","letter","button","unselectedButton","border","selectedButton","options","Object","keys","CurrencySelector","setCurrency","option","Button","onClick","useRefreshDataAutomatically","getData","timerMs","countDown","setCountDown","previousCountDownRef","timerRef","previousDataRef","round","window","setTimeout","clearTimeout","mockLoadingData","useUpdateAfterDataRefreshed","fetchedData","setFrontData","setBackData","setIsFront","prevState","spinner","bottom","right","zIndex","snackbar","PriceBoard","isInfoShowed","setIsInfoShowed","frontData","backData","refreshingProgress","content","text","index","CircularProgress","size","variant","value","Alert","severity","onClose","title","textAlign","Main","USD","Typography","component","maxWidth","InnerApp","useTheme","document","body","App","ThemeProvider","CssBaseline","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"mKAuBYA,E,oGCrBRC,EAAQC,YAAe,CACzBC,QAAS,CACPC,QAAS,CACPC,KAAM,kBACNC,aAAc,QAEhBC,UAAW,CACTF,KAAM,kBACNC,aAAc,QAEhBE,KAAM,CACJH,KAAM,kBACNC,aAAc,SAGlBG,WAAY,CACV,WAAc,yKACd,SAAY,GACZ,gBAAmB,IACnB,kBAAqB,IACrB,iBAAoB,OAKTR,EAFfA,EAAQS,YAAoBT,G,QCVbU,EAbI,SAACC,GAClB,IAAMC,EAAeC,kBAAO,GAE5BC,qBAAU,WACJF,EAAaG,UAIjBH,EAAaG,SAAU,EACvBJ,S,yBCwBWK,EA3BS,WAAkB,IAAD,EACLC,oBAAS,GADJ,mBAChCC,EADgC,KACrBC,EADqB,OAECF,mBARd,IAMa,mBAEhCG,EAFgC,KAElBC,EAFkB,OAGfJ,mBAA0B,MAHX,mBAGhCK,EAHgC,KAG1BC,EAH0B,KAIjCC,EAVoB,KAUVJ,EAEVK,EAAaC,uBAAY,WAC7BL,EAbwB,MAcvB,IAEGM,EAAyBD,uBAAY,WACzCL,EAhB0B,iBAiBzB,IAEH,MAAO,CACLH,YACAC,eACAC,eACAC,kBACAC,OACAC,UACAC,UACAC,aACAE,2B,2BHRQ5B,K,UAAAA,E,UAAAA,E,WAAAA,M,KAMZ,IAuDe6B,EArDgB,SAACC,GAC9B,IAAMC,EAAG,8EAA0ED,GAD9B,EAajDb,IATFE,EAJmD,EAInDA,UACAC,EALmD,EAKnDA,aACAC,EANmD,EAMnDA,aACAC,EAPmD,EAOnDA,gBACAC,EARmD,EAQnDA,KACAC,EATmD,EASnDA,QACAC,EAVmD,EAUnDA,QACAC,EAXmD,EAWnDA,WACAE,EAZmD,EAYnDA,uBAgCF,MAAO,CACLT,YACAI,OACAE,UACAJ,eACAW,MAlCS,uCAAG,sCAAAC,EAAA,sEAEVb,GAAa,GACbM,IAHU,SAISQ,IAAMC,IAA8BJ,GAJ7C,OAIJR,EAJI,OAKJa,EAAUb,EAAKA,KAGfc,EAAQD,EAAQE,KAAKC,KAAI,SAAAC,GAAI,OAAIA,EAAKC,SAASC,QAC/CC,EAAkBP,EAAQE,KAAKC,KAAI,SAAAC,GAAI,OAAIA,EAAKI,QAAQd,GAAUe,YAClEC,EAASV,EAAQE,KAAKC,KAAI,SAAAC,GAAI,OAAIA,EAAKO,IAAIjB,GAAUkB,MAAMC,QAAQ,MACnEC,EAAYb,EAAME,KAAI,SAACY,EAAMC,GAEjC,IAAMC,EAAQC,KAAKC,IA9BL,GA8ByBJ,EAAKK,OAASV,EAAOM,GAAGI,OAASb,EAAgBS,GAAGI,OAAQ,GACnG,MAAM,GAAN,OAAUL,GAAV,OAAiB,IAAIM,MAAMJ,GAAOK,KAAK,KAAKC,KAAK,KAAjD,OAAuDhB,EAAgBS,IAAvE,OAA4EN,EAAOM,OAErF5B,EAAQ0B,GAhBE,kDAkBc,KAAE3B,MAAQ,KAAEA,KAAKqC,QAEvCtC,EAAgB,KAAEC,KAAKqC,SAEvBhC,IAtBQ,yBAyBVR,GAAa,GAzBH,6EAAH,uD,wBIzCPyC,EAAeC,YAAa,CAChCC,UAAW,CACTC,MAAO,GACPC,OAAQ,IAEVC,UAAW,CACTC,QAAS,OACTC,cAAe,MACfC,WAAY,SACZC,eAAgB,UAElBC,WAAY,CACVC,WAAW,8BACXC,gBAAiBxE,EAAME,QAAQC,QAAQC,KACvCqE,MAAOzE,EAAME,QAAQC,QAAQE,aAC7BqE,SAAU,SACVC,WAAY,IACZC,cAAe,eAIbC,EAAYC,aAAW,SAAC9E,GAAD,MAAY,CACvC+E,KAAM,CACJC,YAAa,SACbC,OAAQ,GAEVC,QAAQ,aACNC,SAAU,WACVC,eAAgB,eACbxB,EAAaE,WAElBuB,OAAQ,CACNC,UAAW,mBAEbC,MAAM,qCACJJ,SAAU,WACVK,mBAAoB,UACjB5B,EAAaE,WACbF,EAAaK,WACbL,EAAaU,YAElBmB,KAAK,qCACHH,UAAW,kBACXH,SAAU,WACVK,mBAAoB,UACjB5B,EAAaE,WACbF,EAAaK,WACbL,EAAaU,gBAkCLoB,EAtB+B,SAAC,GAAyC,IAAxCH,EAAuC,EAAvCA,MAAOE,EAAgC,EAAhCA,KAAME,EAA0B,EAA1BA,QAASC,EAAiB,EAAjBA,IAAKC,EAAY,EAAZA,OACnEC,EAASjB,IAEf,OACE,qBAAKkB,UAAWD,EAAQf,KAAxB,SACE,sBACEgB,UAAWC,YAAKF,EAAQZ,SAAUS,GAAWG,EAAQT,QACrDY,MAAO,CACLC,WAAW,oBAAD,OAA0B,IAAJN,EAAiB,IAAPC,EAAhC,OAHd,UAME,qBAAKE,UAAWD,EAAQP,MAAxB,SACE,+BAAOA,MAET,qBAAKQ,UAAWD,EAAQL,KAAxB,SACE,+BAAOA,YC3EXZ,EAAYC,aAAW,SAAC9E,GAAD,MAAY,CACvC+E,KAAM,CACJb,QAAS,OACTC,cAAe,MACfC,WAAY,SACZC,eAAgB,SAChBY,OAAQjF,EAAMmG,QAAQ,EAAG,QAIvBC,EAAsB,SAACC,EAAc9C,GACzC,IAAM+C,EAASD,EAAME,QACrB,GAAIF,EAAM9C,OAASA,EAEjB,IADA,IAAMH,EAAQG,EAAS8C,EAAM9C,OACpBJ,EAAE,EAAGA,EAAEC,EAAOD,IACrBmD,EAAOE,KAAK,KAIhB,OAAOF,GAoCMG,EA1ByB,SAAC,GAAyC,IAAxCC,EAAuC,EAAvCA,UAAWC,EAA4B,EAA5BA,SAAUhB,EAAkB,EAAlBA,QAASC,EAAS,EAATA,IAChEE,EAASjB,IAET+B,EAAeC,mBAAQ,WAC3B,OAAOxD,KAAKC,IAAIoD,EAAUnD,OAAQoD,EAASpD,UAC1C,CAACmD,EAAWC,IAETG,EAAiBD,mBAAQ,WAC7B,OAAOT,EAAoBM,EAAUK,MAAM,IAAKH,KAC/C,CAACF,EAAWE,IAETI,EAAgBH,mBAAQ,WAC5B,OAAOT,EAAoBO,EAASI,MAAM,IAAKH,KAC9C,CAACD,EAAUC,IAEd,OACE,qBAAKb,UAAWD,EAAQf,KAAxB,SAEI+B,EAAexE,KAAI,SAAC2E,EAAQ9D,GAAT,OACjB,cAAC,EAAD,CAAYoC,MAAO0B,EAAQxB,KAAMuB,EAAc7D,GAAIwC,QAASA,EAAiBE,OAAQ1C,EAAGyC,IAAKA,GAAnBzC,S,yBC9C9E0B,EAAYC,aAAW,SAAC9E,GAAD,MAAY,CACvC+E,KAAM,CACJhB,MAAO,OACPG,QAAS,OACTC,cAAe,MACfC,WAAY,SACZC,eAAgB,cAElB6C,OAAQ,CACNzC,MAAOzE,EAAME,QAAQC,QAAQE,aAC7BsE,WAAY,IACZM,OAAQjF,EAAMmG,QAAQ,GACtB,UAAW,CACT3B,gBAAiBxE,EAAME,QAAQC,QAAQC,MAEzC,gBAAiB,CACf6E,OAAQjF,EAAMmG,QAAQ,EAAG,EAAG,EAAG,KAGnCgB,iBAAkB,CAChB3C,gBAAiB,cACjB4C,OAAO,aAAD,OAAepH,EAAME,QAAQC,QAAQC,OAE7CiH,eAAgB,CACd7C,gBAAiBxE,EAAME,QAAQC,QAAQC,KACvCgH,OAAO,aAAD,OAAepH,EAAME,QAAQC,QAAQC,WAIzCkH,EAAUC,OAAOC,KAAKzH,GA6Bb0H,EAtB2C,SAAC,GAA6B,IAA5B5F,EAA2B,EAA3BA,SAAU6F,EAAiB,EAAjBA,YAC9D5B,EAAUjB,IAEhB,OACE,qBAAKkB,UAAWD,EAAQf,KAAxB,SAEIuC,EAAQhF,KAAI,SAAAqF,GAAM,OAChB,cAACC,EAAA,EAAD,CAEE7B,UAAWC,YACTF,EAAQoB,OACRrF,IAAa8F,GAAU7B,EAAQuB,eAC/BxF,IAAa8F,GAAU7B,EAAQqB,kBAEjCU,QAAS,kBAAMH,EAAYC,IAP7B,SAQEA,GAPKA,SCCFG,EAjDqB,SAACxG,EAAkByG,EAAqBC,GAAqB,IAAD,EAC5D/G,mBAAwB,MADoC,mBACvFgH,EADuF,KAC5EC,EAD4E,KAExFC,EAAuBtH,iBAAOoH,GAE9BG,EAAWvH,iBAAsB,MACjCwH,EAAkBxH,iBAAOS,GAuC/B,OAtCAR,qBAAU,WACJuH,EAAgBtH,UAAYO,IAIhC+G,EAAgBtH,QAAUO,EAC1B4G,EAAa7E,KAAKiF,MAAMN,EAAU,SACjC,CAAC1G,EAAM0G,IAEVlH,qBAAU,WACJqH,EAAqBpH,UAAYkH,GAIrCE,EAAqBpH,QAAUkH,EAEb,OAAdA,IAIAA,EAAY,EACdG,EAASrH,QAAUwH,OAAOC,YAAW,WACnCN,EAAaD,EAAY,KACxB,MAEHC,EAAa,MACbH,OAfAI,EAAqBpH,QAAUkH,IAiBhC,CAACF,EAASE,IAEbnH,qBAAU,WACR,OAAO,WACoB,OAArBsH,EAASrH,SACXwH,OAAOE,aAAaL,EAASrH,YAGhC,IAEkB,OAAdkH,EACL,KACA5E,KAAKiF,MAAmB,IAAZL,EAAmBD,EAAW,MCvC/BU,EARU,WAEvB,IADA,IAAMrC,EAAQ,GACLlD,EAAE,EAAGA,EAAE,GAAIA,IAClBkD,EAAMG,KAJM,mBAMd,OAAOH,EALgB,GCyBVsC,EAxBqB,SAACC,EAAyBC,EAAmDC,GAAsD,IAAD,EACtI7H,oBAAS,GAD6H,mBAC7J0E,EAD6J,KACpJoD,EADoJ,KAE9JV,EAAkBxH,iBAAO+H,GAmB/B,OAjBA9H,qBAAU,WACJuH,EAAgBtH,UAAY6H,GAKhCP,EAAgBtH,QAAU6H,EACN,OAAhBA,IACEjD,EACFmD,EAAYF,GAEZC,EAAaD,GAEfG,GAAW,SAAAC,GAAS,OAAKA,OAXzBX,EAAgBtH,QAAU6H,KAevBjD,GCXHd,EAAYC,aAAW,SAAC9E,GAAD,MAAY,CACvC+E,KAAM,CACJb,QAAS,OACTC,cAAe,SACfC,WAAY,SACZC,eAAgB,UAElB4E,QAAS,CACPxE,MAAOzE,EAAME,QAAQI,UAAUD,aAC/B8E,SAAU,QACV+D,OAAQ,GACRC,MAAO,GACPC,OAAQpJ,EAAMoJ,OAAOC,UAEvB1F,QAAS,CACPI,MAAO,OACPkB,OAAQjF,EAAMmG,QAAQ,EAAG,QA8EdmD,EAnE+B,SAAC,GAA4D,IAA3DzH,EAA0D,EAA1DA,SAAU6F,EAAgD,EAAhDA,YAAa6B,EAAmC,EAAnCA,aAAcC,EAAqB,EAArBA,gBAC7E1D,EAAUjB,IADwF,EAQpGjD,EAAuBC,GALzBX,EAHsG,EAGtGA,UACM0H,EAJgG,EAItGtH,KACAE,EALsG,EAKtGA,QACAJ,EANsG,EAMtGA,aACAW,EAPsG,EAOtGA,MAPsG,EAUtEd,mBAASyH,EAAgBnC,SAV6C,mBAUjGkD,EAViG,KAUtFZ,EAVsF,OAWxE5H,mBAASyH,EAAgBnC,SAX+C,mBAWjGmD,EAXiG,KAWvFZ,EAXuF,KAaxGpI,GAAW,WACTqB,OAGF,IAAM4D,EAAUgD,EAA4BC,EAAaC,EAAcC,GACjEa,EAAqB7B,EAA4Bc,EAAa7G,EAAO,KAErE6H,EAAU/C,mBAAQ,WACtB,OACE,8BACG4C,EAAUnH,KAAI,SAACuH,EAAMC,GACpB,OAAO,cAAC,EAAD,CAASpD,UAAWmD,EAAMlD,SAAU+C,EAASI,GAAQnE,QAASA,EAAqBC,IAAKkE,GAAZA,UAIxF,CAACJ,EAAUD,EAAW9D,IAEzB,OACE,sBAAKI,UAAWD,EAAQf,KAAxB,UAGI7D,GAAa,cAAC6I,EAAA,EAAD,CAAkBC,KAAM,GAAIjE,UAAWD,EAAQmD,UAIrC,OAAvBU,GAA+B,cAACI,EAAA,EAAD,CAAkBC,KAAM,GAAIC,QAAQ,SAASlE,UAAWD,EAAQmD,QAASiB,MAAOP,IAI/GnI,GACA,cAAC2I,EAAA,EAAD,CACIC,SAAS,QACTrE,UAAWD,EAAQnC,QAFvB,SAGEvC,IAIFmI,GACA,cAACY,EAAA,EAAD,CACIC,SAAS,OACTrE,UAAWD,EAAQnC,QACnB0G,QAAS,kBAAMb,GAAgB,IAHnC,0FAQA,cAAC,EAAD,CAAkB3H,SAAUA,EAAU6F,YAAaA,IAGnDkC,M,QC/FF/E,EAAYC,aAAW,SAAC9E,GAAD,MAAY,CACvC+E,KAAM,CACJP,gBAAiBxE,EAAME,QAAQI,UAAUF,KACzC8D,QAAS,OACTC,cAAe,SACfC,WAAY,SACZC,eAAgB,SAChBN,MAAO,QAETuG,MAAO,CACL/F,WAAW,8BACXE,MAAOzE,EAAME,QAAQI,UAAUD,aAC/BuE,cAAe,aACf2F,UAAW,SACXtF,OAAQjF,EAAMmG,QAAQ,EAAG,EAAG,EAAG,QAuBpBqE,EAfmB,WAChC,IAAM1E,EAAUjB,IADsB,EAEN5D,mBAASlB,EAAS0K,KAFZ,mBAE/B5I,EAF+B,KAErB6F,EAFqB,OAGEzG,oBAAS,GAHX,mBAG/BsI,EAH+B,KAGjBC,EAHiB,KAKtC,OACE,sBAAKzD,UAAWD,EAAQf,KAAxB,UACE,cAAC2F,EAAA,EAAD,CAAYC,UAAW,KAAMV,QAAS,KAAMlE,UAAWD,EAAQwE,MAA/D,wCAGA,cAAC,EAAD,CAAYzI,SAAUA,EAAU6F,YAAaA,EAA4B6B,aAAcA,EAAcC,gBAAiBA,GAAvD3H,OCvB/DgD,EAAYC,aAAW,SAAC9E,GAAD,MAAY,CACvC+E,KAAM,CACJhB,MAAO,QACP6G,SAAU,OACV3F,OAAQjF,EAAMmG,QAAQ,GAAI,QAIxB0E,EAAqB,WACzB,IAAM/E,EAAUjB,IACV7E,EAAQ8K,cAMd,OAJAhK,qBAAU,WACRiK,SAASC,KAAK/E,MAAMzB,gBAAkBxE,EAAME,QAAQI,UAAUF,OAC7D,CAACJ,IAGF,qBAAK+F,UAAWD,EAAQf,KAAxB,SACE,cAAC,EAAD,OAKSkG,EAhCO,WACpB,OACE,eAACC,EAAA,EAAD,CAAelL,MAAOA,EAAtB,UACE,cAACmL,EAAA,EAAD,IACA,cAAC,EAAD,QCISC,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCHdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFhB,SAASiB,eAAe,SAM1BZ,M","file":"static/js/main.5d922132.chunk.js","sourcesContent":["import useRequestState from \"./use-request-state\";\nimport axios from \"axios\";\n\ninterface Top10ByMarketCapResponse {\n  Data: Item[]\n}\n\ninterface Item {\n  CoinInfo: {\n    Name: string,\n  },\n  DISPLAY: {\n    [key in Currency]: {\n      TOSYMBOL: string\n    }\n  },\n  RAW: {\n    [key in Currency]: {\n      PRICE: number\n    }\n  }\n}\n\nexport enum Currency {\n  USD='USD',\n  CAD='CAD',\n  EUR='EUR'\n}\n\nconst LETTER_LENGTH = 15;\n\nconst useGetTop10ByMarketCap = (currency: Currency) => {\n  const url = `https://min-api.cryptocompare.com/data/top/mktcapfull?limit=10&tsym=${currency}`;\n\n  const {\n    isLoading,\n    setIsLoading,\n    errorMessage,\n    setErrorMessage,\n    data,\n    setData,\n    isError,\n    resetError,\n    setGenericErrorMessage\n  } = useRequestState<string[]>();\n\n  const doGet = async () => {\n    try {\n      setIsLoading(true);\n      resetError();\n      const data = await axios.get<Top10ByMarketCapResponse>(url);\n      const rawData = data.data;\n\n      // converting raw data to an array of string, string starts with coin name, end with coin price\n      const names = rawData.Data.map(item => item.CoinInfo.Name);\n      const currencySymbols = rawData.Data.map(item => item.DISPLAY[currency].TOSYMBOL);\n      const prices = rawData.Data.map(item => item.RAW[currency].PRICE.toFixed(2));\n      const textArray = names.map((name, i) => {\n        // fill the text to 15 characters in the middle with space\n        const short = Math.max(LETTER_LENGTH - name.length - prices[i].length - currencySymbols[i].length, 0);\n        return `${name}${new Array(short).fill(' ').join('')}${currencySymbols[i]}${prices[i]}`\n      });\n      setData(textArray);\n    } catch (e) {\n      const hasErrorMessage = e.data && e.data.message;\n      if (hasErrorMessage) {\n        setErrorMessage(e.data.message)\n      } else {\n        setGenericErrorMessage()\n      }\n    } finally {\n      setIsLoading(false)\n    }\n  };\n\n  return {\n    isLoading,\n    data,\n    isError,\n    errorMessage,\n    doGet\n  }\n};\n\nexport default useGetTop10ByMarketCap\n","import {createMuiTheme, responsiveFontSizes} from \"@material-ui/core/styles\";\n\nlet theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: 'rgb(60, 63, 65)',\n      contrastText: '#eee',\n    },\n    secondary: {\n      main: 'rgb(43, 43, 43)',\n      contrastText: '#eee',\n    },\n    info: {\n      main: 'rgb(60, 63, 65)',\n      contrastText: '#eee',\n    }\n  },\n  typography: {\n    \"fontFamily\": \"system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji\",\n    \"fontSize\": 14,\n    \"fontWeightLight\": 300,\n    \"fontWeightRegular\": 400,\n    \"fontWeightMedium\": 500\n  }\n});\ntheme = responsiveFontSizes(theme);\n\nexport default theme;\n","import {useEffect, useRef} from \"react\";\n\nconst useMounted = (callback: () => void) => {\n  const isMountedRef = useRef(false);\n\n  useEffect(() => {\n    if (isMountedRef.current) {\n      return\n    }\n\n    isMountedRef.current = true;\n    callback()\n  })\n};\n\nexport default useMounted\n","import {useCallback, useState} from \"react\";\n\nconst BLANK_ERROR_MESSAGE = '';\nconst GENERIC_ERROR_MESSAGE = 'Sever Error';\n\n/**\n * All methods exposed are either React's setState function, or wrapped with useCallback so that their identity will remain stable.\n */\nconst useRequestState = <DataType,>() => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(BLANK_ERROR_MESSAGE);\n  const [data, setData] = useState<DataType | null>(null);\n  const isError = errorMessage !== BLANK_ERROR_MESSAGE;\n\n  const resetError = useCallback(() => {\n    setErrorMessage(BLANK_ERROR_MESSAGE)\n  }, []);\n\n  const setGenericErrorMessage = useCallback(() => {\n    setErrorMessage(GENERIC_ERROR_MESSAGE)\n  }, []);\n\n  return {\n    isLoading,\n    setIsLoading,\n    errorMessage,\n    setErrorMessage,\n    data,\n    setData,\n    isError,\n    resetError,\n    setGenericErrorMessage\n  }\n};\n\nexport default useRequestState\n","import React from \"react\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport clsx from 'clsx';\nimport theme from \"../theme\";\n\nconst commonStyles = createStyles({\n  dimension: {\n    width: 50,\n    height: 50\n  },\n  centering: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  textStyles: {\n    fontFamily: `\"Archivo Black\", sans-serif`,\n    backgroundColor: theme.palette.primary.main,\n    color: theme.palette.primary.contrastText,\n    fontSize: '1.5rem',\n    fontWeight: 400,\n    textTransform: 'uppercase'\n  }\n});\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    perspective: '1000px',\n    margin: 1\n  },\n  wrapper: {\n    position: 'relative',\n    transformStyle: 'preserve-3d',\n    ...commonStyles.dimension,\n  },\n  active: {\n    transform: 'rotateX(180deg)'\n  },\n  front: {\n    position: 'absolute',\n    backfaceVisibility: 'hidden',\n    ...commonStyles.dimension,\n    ...commonStyles.centering,\n    ...commonStyles.textStyles\n  },\n  back: {\n    transform: 'rotateX(180deg)',\n    position: 'absolute',\n    backfaceVisibility: 'hidden',\n    ...commonStyles.dimension,\n    ...commonStyles.centering,\n    ...commonStyles.textStyles\n  }\n}));\n\ninterface FlipLetterProps {\n  front: string,\n  back: string,\n  isFront: boolean,\n  column: number,\n  row: number\n}\n\nconst FlipLetter: React.FC<FlipLetterProps> = ({front, back, isFront, row, column}) => {\n  const classes= useStyles();\n\n  return (\n    <div className={classes.root}>\n      <div\n        className={clsx(classes.wrapper, !isFront && classes.active)}\n        style={{\n          transition: `transform 1000ms ${row*500 + column*100}ms`,\n        }}\n      >\n        <div className={classes.front}>\n          <span>{front}</span>\n        </div>\n        <div className={classes.back}>\n          <span>{back}</span>\n        </div>\n      </div>\n    </div>\n  )\n};\n\nexport default FlipLetter\n","import React, {useMemo} from \"react\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport FlipLetter from \"./flip-letter\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    margin: theme.spacing(2, 0)\n  }\n}));\n\nconst fillUpArrayToLength = (array: any[], length: number) => {\n  const result = array.slice();\n  if (array.length < length) {\n    const short = length - array.length;\n    for (let i=0; i<short; i++) {\n      result.push(' ')\n    }\n  }\n\n  return result\n};\n\ninterface FlipRowProps {\n  frontText: string,\n  backText: string,\n  isFront: boolean,\n  row: number\n}\n\nconst FlipRow: React.FC<FlipRowProps> = ({frontText, backText, isFront, row}) => {\n  const classes= useStyles();\n\n  const letterLength = useMemo(() => {\n    return Math.max(frontText.length, backText.length)\n  }, [frontText, backText]);\n\n  const frontTextArray = useMemo(() => {\n    return fillUpArrayToLength(frontText.split(''), letterLength)\n  }, [frontText, letterLength]);\n\n  const backTextArray = useMemo(() => {\n    return fillUpArrayToLength(backText.split(''), letterLength)\n  }, [backText, letterLength]);\n\n  return (\n    <div className={classes.root}>\n      {\n        frontTextArray.map((letter, i) => (\n          <FlipLetter front={letter} back={backTextArray[i]} isFront={isFront} key={i} column={i} row={row}/>\n        ))\n      }\n    </div>\n  )\n};\n\nexport default FlipRow\n","import React, {SetStateAction, useState} from \"react\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {Button} from \"@material-ui/core\";\nimport {Currency} from \"../services/use-get-top-10-by-market-cap\";\nimport clsx from 'clsx';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n  },\n  button: {\n    color: theme.palette.primary.contrastText,\n    fontWeight: 700,\n    margin: theme.spacing(1),\n    '&:hover': {\n      backgroundColor: theme.palette.primary.main\n    },\n    '&:first-child': {\n      margin: theme.spacing(1, 1, 1, 0),\n    }\n  },\n  unselectedButton: {\n    backgroundColor: 'transparent',\n    border: `1px solid ${theme.palette.primary.main}`\n  },\n  selectedButton: {\n    backgroundColor: theme.palette.primary.main,\n    border: `1px solid ${theme.palette.primary.main}`\n  }\n}));\n\nconst options = Object.keys(Currency) as Currency[];\n\ninterface CurrencySelectorProps {\n  currency: Currency,\n  setCurrency: React.Dispatch<SetStateAction<Currency>>\n}\n\nconst CurrencySelector: React.FC<CurrencySelectorProps> = ({currency, setCurrency}) => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      {\n        options.map(option =>\n          <Button\n            key={option}\n            className={clsx(\n              classes.button,\n              currency === option && classes.selectedButton,\n              currency !== option && classes.unselectedButton\n            )}\n            onClick={() => setCurrency(option)}\n          >{option}</Button>\n        )\n      }\n    </div>\n  )\n};\n\nexport default CurrencySelector\n","import {useEffect, useRef, useState} from \"react\";\n\nconst useRefreshDataAutomatically = (data: null | any, getData: () => void, timerMs: number) => {\n  const [countDown, setCountDown] = useState<null | number>(null);\n  const previousCountDownRef = useRef(countDown);\n\n  const timerRef = useRef<null | number>(null);\n  const previousDataRef = useRef(data);\n  useEffect(() => {\n    if (previousDataRef.current === data) {\n      return\n    }\n\n    previousDataRef.current = data;\n    setCountDown(Math.round(timerMs / 1000));\n  }, [data, timerMs]);\n\n  useEffect(() => {\n    if (previousCountDownRef.current === countDown) {\n      previousCountDownRef.current = countDown;\n      return\n    }\n    previousCountDownRef.current = countDown;\n\n    if (countDown === null) {\n      return\n    }\n\n    if (countDown > 0) {\n      timerRef.current = window.setTimeout(() => {\n        setCountDown(countDown - 1)\n      }, 1000)\n    } else {\n      setCountDown(null);\n      getData();\n    }\n  }, [getData, countDown]);\n\n  useEffect(() => {\n    return () => {\n      if (timerRef.current !== null) {\n        window.clearTimeout(timerRef.current);\n      }\n    }\n  }, []);\n\n  return countDown === null ?\n    null :\n    Math.round((countDown * 1000 / timerMs) * 100)\n};\n\nexport default useRefreshDataAutomatically\n","const LOADING = 'loading...     ';\nconst mockLoadingData = (() => {\n  const array = [];\n  for (let i=0; i<10; i++) {\n    array.push(LOADING)\n  }\n  return array;\n})();\n\nexport default mockLoadingData\n","import React, {SetStateAction, useEffect, useRef, useState} from \"react\";\n\nconst useUpdateAfterDataRefreshed = (fetchedData: null | any, setFrontData: React.Dispatch<SetStateAction<any>>, setBackData: React.Dispatch<SetStateAction<any>>) => {\n  const [isFront, setIsFront] = useState(false);\n  const previousDataRef = useRef(fetchedData);\n\n  useEffect(() => {\n    if (previousDataRef.current === fetchedData) {\n      previousDataRef.current = fetchedData;\n      return\n    }\n\n    previousDataRef.current = fetchedData;\n    if (fetchedData !== null) {\n      if (isFront) {\n        setBackData(fetchedData)\n      } else {\n        setFrontData(fetchedData)\n      }\n      setIsFront(prevState => !prevState);\n    }\n  });\n\n  return isFront\n};\n\nexport default useUpdateAfterDataRefreshed\n","import React, {SetStateAction, useMemo, useState} from \"react\";\nimport useMounted from \"../helpers/use-mounted\";\nimport useGetTop10ByMarketCap, {Currency} from \"../services/use-get-top-10-by-market-cap\";\nimport FlipRow from \"../components/flip-row\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport { CircularProgress } from '@material-ui/core';\nimport Alert from '@material-ui/lab/Alert';\nimport CurrencySelector from \"./currency-selector\";\nimport useRefreshDataAutomatically from \"./use-refresh-data-automatically\";\nimport mockLoadingData from \"./mock-loading-data\";\nimport useUpdateAfterDataRefreshed from \"./use-update-after-data-refreshed\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  spinner: {\n    color: theme.palette.secondary.contrastText,\n    position: 'fixed',\n    bottom: 50,\n    right: 50,\n    zIndex: theme.zIndex.snackbar\n  },\n  message: {\n    width: '100%',\n    margin: theme.spacing(2, 0)\n  }\n}));\n\ninterface PriceBoardProps {\n  currency: Currency,\n  setCurrency: React.Dispatch<SetStateAction<Currency>>,\n  isInfoShowed: boolean,\n  setIsInfoShowed: React.Dispatch<SetStateAction<boolean>>,\n}\n\nconst PriceBoard: React.FC<PriceBoardProps> = ({currency, setCurrency, isInfoShowed, setIsInfoShowed}) => {\n  const classes = useStyles();\n  const {\n    isLoading,\n    data: fetchedData,\n    isError,\n    errorMessage,\n    doGet\n  } = useGetTop10ByMarketCap(currency);\n\n  const [frontData, setFrontData] = useState(mockLoadingData.slice());\n  const [backData, setBackData] = useState(mockLoadingData.slice());\n\n  useMounted(() => {\n    doGet()\n  });\n\n  const isFront = useUpdateAfterDataRefreshed(fetchedData, setFrontData, setBackData);\n  const refreshingProgress = useRefreshDataAutomatically(fetchedData, doGet, 30000);\n\n  const content = useMemo(() => {\n    return (\n      <div>\n        {frontData.map((text, index) => {\n          return <FlipRow frontText={text} backText={backData[index]} isFront={isFront} key={index} row={index}/>\n        })}\n      </div>\n    )\n  }, [backData, frontData, isFront]);\n\n  return (\n    <div className={classes.root}>\n\n      {\n        isLoading && <CircularProgress size={25} className={classes.spinner}/>\n      }\n\n      {\n        refreshingProgress !== null && <CircularProgress size={25} variant=\"static\" className={classes.spinner} value={refreshingProgress}/>\n      }\n\n      {\n        isError &&\n        <Alert\n            severity=\"error\"\n            className={classes.message}\n        >{errorMessage}</Alert>\n      }\n\n      {\n        isInfoShowed &&\n        <Alert\n            severity=\"info\"\n            className={classes.message}\n            onClose={() => setIsInfoShowed(false)}\n        >Coin price changes quickly, data is refreshed automatically every 30 seconds</Alert>\n      }\n\n      {\n        <CurrencySelector currency={currency} setCurrency={setCurrency}/>\n      }\n\n      { content }\n    </div>\n  )\n};\n\nexport default PriceBoard\n","import React, {useState} from \"react\";\nimport PriceBoard from \"../components/price-board\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {Typography} from \"@material-ui/core\";\nimport {Currency} from \"../services/use-get-top-10-by-market-cap\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: theme.palette.secondary.main,\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: '100%'\n  },\n  title: {\n    fontFamily: `\"Archivo Black\", sans-serif`,\n    color: theme.palette.secondary.contrastText,\n    textTransform: 'capitalize',\n    textAlign: 'center',\n    margin: theme.spacing(0, 0, 1, 0)\n  }\n}));\n\ninterface MainProps {\n\n}\n\nconst Main: React.FC<MainProps> = () => {\n  const classes = useStyles();\n  const [currency, setCurrency] = useState(Currency.USD);\n  const [isInfoShowed, setIsInfoShowed] = useState(true);\n\n  return (\n    <div className={classes.root}>\n      <Typography component={'h2'} variant={'h6'} className={classes.title}>\n        top 10 coins by market cap\n      </Typography>\n      <PriceBoard currency={currency} setCurrency={setCurrency} key={currency} isInfoShowed={isInfoShowed} setIsInfoShowed={setIsInfoShowed}/>\n    </div>\n  )\n};\n\nexport default Main\n","import React, {useEffect} from 'react';\nimport {CssBaseline, useTheme} from \"@material-ui/core\";\nimport {makeStyles, ThemeProvider} from '@material-ui/core/styles';\nimport theme from \"./theme\";\nimport Main from \"./pages/main\";\n\nconst App: React.FC = () => {\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <InnerApp/>\n    </ThemeProvider>\n  )\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100vw',\n    maxWidth: '100%',\n    margin: theme.spacing(10, 0)\n  },\n}));\n\nconst InnerApp: React.FC = () => {\n  const classes = useStyles();\n  const theme = useTheme();\n\n  useEffect(() => {\n    document.body.style.backgroundColor = theme.palette.secondary.main;\n  }, [theme]);\n\n  return (\n    <div className={classes.root}>\n      <Main/>\n    </div>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);  \n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n}\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}