(this["webpackJsonpsurge-code-challenge"]=this["webpackJsonpsurge-code-challenge"]||[]).push([[0],{57:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var r,a=n(2),c=n(0),i=n.n(c),o=n(15),s=n.n(o),u=(n(57),n(106)),l=n(107),f=n(105),d=n(101),j=n(48),b=n(109),m=Object(j.a)({palette:{primary:{main:"rgb(60, 63, 65)",contrastText:"#eee"},secondary:{main:"rgb(43, 43, 43)",contrastText:"#eee"},info:{main:"rgb(60, 63, 65)",contrastText:"#eee"}},typography:{fontFamily:"system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji",fontSize:14,fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:500}}),p=m=Object(b.a)(m),h=n(9),g=function(e){var t=Object(c.useRef)(!1);Object(c.useEffect)((function(){t.current||(t.current=!0,e())}))},O=n(32),x=n.n(O),y=n(45),v=function(){var e=Object(c.useState)(!1),t=Object(h.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),i=Object(h.a)(a,2),o=i[0],s=i[1],u=Object(c.useState)(null),l=Object(h.a)(u,2),f=l[0],d=l[1],j=""!==o,b=Object(c.useCallback)((function(){s("")}),[]),m=Object(c.useCallback)((function(){s("Sever Error")}),[]);return{isLoading:n,setIsLoading:r,errorMessage:o,setErrorMessage:s,data:f,setData:d,isError:j,resetError:b,setGenericErrorMessage:m}},w=n(46),C=n.n(w);!function(e){e.USD="USD",e.CAD="CAD",e.EUR="EUR"}(r||(r={}));var k=function(e){var t="https://min-api.cryptocompare.com/data/top/mktcapfull?limit=10&tsym=".concat(e,"&api_key=4d646ccdea5094e1300c8846841310f384150830ecfa7ad715085f6da4320bab"),n=v(),r=n.isLoading,a=n.setIsLoading,c=n.errorMessage,i=n.setErrorMessage,o=n.data,s=n.setData,u=n.isError,l=n.resetError,f=n.setGenericErrorMessage;return{isLoading:r,data:o,isError:u,errorMessage:c,doGet:function(){var n=Object(y.a)(x.a.mark((function n(){var r,c,o,u,d,j;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(!0),l(),n.next=5,C.a.request({url:"".concat(t,"&a=").concat(Date.now().toString(36)),method:"get"});case 5:r=n.sent,c=r.data,o=c.Data.map((function(e){return e.CoinInfo.Name})),u=c.Data.map((function(t){return t.DISPLAY[e].TOSYMBOL})),d=c.Data.map((function(t){return t.RAW[e].PRICE.toFixed(2)})),j=o.map((function(e,t){var n=Math.max(16,e.length+d[t].length+u[t].length+1),r=Math.max(n-e.length-d[t].length-u[t].length,0);return"".concat(e).concat(new Array(r).fill(" ").join("")).concat(u[t]).concat(d[t])})),s(j),n.next=18;break;case 14:n.prev=14,n.t0=n.catch(0),n.t0.data&&n.t0.data.message?i(n.t0.data.message):f();case 18:return n.prev=18,a(!1),n.finish(18);case 21:case"end":return n.stop()}}),n,null,[[0,14,18,21]])})));return function(){return n.apply(this,arguments)}}()}},S=n(13),E=n(110),I=n(4),N=Object(E.a)({dimension:{width:"100%",height:"100%"},centering:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},textStyles:{fontFamily:'"Archivo Black", sans-serif',backgroundColor:p.palette.primary.main,color:p.palette.primary.contrastText,fontWeight:400,textTransform:"uppercase"}}),T=Object(d.a)((function(e){return{root:{perspective:"1000px"},wrapper:Object(S.a)({position:"relative",transformStyle:"preserve-3d"},N.dimension),active:{transform:"rotateX(180deg)"},front:Object(S.a)(Object(S.a)(Object(S.a)({position:"absolute",backfaceVisibility:"hidden"},N.dimension),N.centering),N.textStyles),back:Object(S.a)(Object(S.a)(Object(S.a)({transform:"rotateX(180deg)",position:"absolute",backfaceVisibility:"hidden"},N.dimension),N.centering),N.textStyles)}})),M=function(e){var t=e.front,n=e.back,r=e.isFront,c=e.row,i=e.column,o=e.size,s=T(),u=o-2,l=.5*u;return Object(a.jsx)("div",{className:s.root,style:{width:u,height:u,margin:"".concat(.15*u,"px ").concat(1,"px")},children:Object(a.jsxs)("div",{className:Object(I.a)(s.wrapper,!r&&s.active),style:{transition:"transform 1000ms ".concat(500*c+100*i,"ms")},children:[Object(a.jsx)("div",{className:s.front,style:{fontSize:l},children:Object(a.jsx)("span",{children:t})}),Object(a.jsx)("div",{className:s.back,style:{fontSize:l},children:Object(a.jsx)("span",{children:n})})]})})},D=i.a.createContext(null),F=Object(d.a)((function(e){return{root:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"}}})),L=function(e,t){var n=e.slice();if(e.length<t)for(var r=t-e.length,a=0;a<r;a++)n.push(" ");return n},R=function(e){var t=e.frontText,n=e.backText,r=e.isFront,i=e.row,o=F(),s=Object(c.useMemo)((function(){return Math.max(t.length,n.length)}),[t,n]),u=Object(c.useMemo)((function(){return L(t.split(""),s)}),[t,s]),l=Object(c.useMemo)((function(){return L(n.split(""),s)}),[n,s]),f=Object(c.useContext)(D),d=f?f.mainContainerWidth/s:0;return Object(a.jsx)("div",{className:o.root,children:u.map((function(e,t){return Object(a.jsx)(M,{front:e,back:l[t],isFront:r,column:t,row:i,size:d},t)}))})},A=n(103),W=n(108),z=n(102),B=Object(d.a)((function(e){return{root:{width:"100%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},button:{color:e.palette.primary.contrastText,fontWeight:700,margin:e.spacing(1),"&:hover":{backgroundColor:e.palette.primary.main},"&:first-child":{margin:e.spacing(1,1,1,0)}},unselectedButton:{backgroundColor:"transparent",border:"1px solid ".concat(e.palette.primary.main)},selectedButton:{backgroundColor:e.palette.primary.main,border:"1px solid ".concat(e.palette.primary.main)}}})),U=Object.keys(r),P=function(e){var t=e.currency,n=e.setCurrency,r=B();return Object(a.jsx)("div",{className:r.root,children:U.map((function(e){return Object(a.jsx)(z.a,{className:Object(I.a)(r.button,t===e&&r.selectedButton,t!==e&&r.unselectedButton),onClick:function(){return n(e)},children:e},e)}))})},G=function(e,t,n){var r=Object(c.useState)(null),a=Object(h.a)(r,2),i=a[0],o=a[1],s=Object(c.useRef)(i),u=Object(c.useRef)(null),l=Object(c.useRef)(e);return Object(c.useEffect)((function(){l.current!==e&&(l.current=e,o(Math.round(n/1e3)))}),[e,n]),Object(c.useEffect)((function(){s.current!==i?(s.current=i,null!==i&&(i>0?u.current=window.setTimeout((function(){o(i-1)}),1e3):(o(null),t()))):s.current=i}),[t,i]),Object(c.useEffect)((function(){return function(){null!==u.current&&window.clearTimeout(u.current)}}),[]),null===i?null:Math.round(100*(1-1e3*i/n))},q="loading...",H=q+new Array(16-q.length).fill(" ").join(""),J=function(){for(var e=[],t=0;t<10;t++)e.push(H);return e}(),V=function(e,t,n){var r=Object(c.useState)(!1),a=Object(h.a)(r,2),i=a[0],o=a[1],s=Object(c.useRef)(e);return Object(c.useEffect)((function(){s.current!==e?(s.current=e,null!==e&&(i?n(e):t(e),o((function(e){return!e})))):s.current=e})),i},X=n(104),Y=Object(d.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},infoRow:{width:"100%",position:"relative"},spinnerContainer:{position:"absolute",right:0,height:"100%",zIndex:e.zIndex.snackbar,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},spinner:{color:e.palette.secondary.contrastText},message:{width:"100%",margin:e.spacing(.5,0)},link:{color:e.palette.secondary.contrastText,marginLeft:"auto",marginTop:e.spacing(2),textAlign:"right"}}})),_=function(e){var t=e.currency,n=e.setCurrency,r=e.isInfoShowed,i=e.setIsInfoShowed,o=Y(),s=k(t),u=s.isLoading,l=s.data,f=s.isError,d=s.errorMessage,j=s.doGet,b=Object(c.useState)(J.slice()),m=Object(h.a)(b,2),p=m[0],O=m[1],x=Object(c.useState)(J.slice()),y=Object(h.a)(x,2),v=y[0],w=y[1],C=V(l,O,w),S=G(l,j,3e4);return g((function(){j()})),Object(a.jsxs)("div",{className:o.root,children:[f&&Object(a.jsx)(W.a,{severity:"error",className:o.message,children:d}),r&&Object(a.jsx)(W.a,{severity:"info",className:o.message,onClose:function(){return i(!1)},children:"Coin prices change quickly, data is refreshed automatically every 30 seconds"}),Object(a.jsxs)("div",{className:o.infoRow,children:[Object(a.jsxs)("div",{className:o.spinnerContainer,children:[u&&Object(a.jsx)(A.a,{size:25,className:o.spinner}),null!==S&&Object(a.jsx)(A.a,{size:25,variant:"static",className:o.spinner,value:S})]}),Object(a.jsx)(P,{currency:t,setCurrency:n})]}),p.map((function(e,t){return Object(a.jsx)(R,{frontText:e,backText:v[t],isFront:C,row:t},t)})),Object(a.jsx)(X.a,{href:"https://min-api.cryptocompare.com/",target:"_blank",rel:"noopener",className:o.link,children:"API \ud83d\udcaa By CryptoCompare"})]})},K=n(81),Q=Object(d.a)((function(e){return{root:{backgroundColor:e.palette.secondary.main,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",width:"100%"},widthWrapper:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start"},title:{fontFamily:'"Archivo Black", sans-serif',color:e.palette.secondary.contrastText,textTransform:"capitalize",textAlign:"center",margin:e.spacing(0,0,3,0)}}})),Z=function(){var e=Q(),t=Object(c.useState)(r.USD),n=Object(h.a)(t,2),i=n[0],o=n[1],s=Object(c.useState)(!0),u=Object(h.a)(s,2),l=u[0],f=u[1],d=Object(c.useContext)(D);return Object(a.jsx)("div",{className:e.root,children:Object(a.jsxs)("div",{className:e.widthWrapper,style:{width:null===d||void 0===d?void 0:d.mainContainerWidth},children:[Object(a.jsx)(K.a,{component:"h2",variant:"h6",className:e.title,children:"top 10 coins by market cap"}),Object(a.jsx)(_,{currency:i,setCurrency:o,isInfoShowed:l,setIsInfoShowed:f},i)]})})},$=Object(d.a)((function(e){return{root:{width:"100vw",maxWidth:"100%",margin:e.spacing(10,0)}}})),ee=function(){var e=$(),t=Object(l.a)(),n=Object(c.useContext)(D);return Object(c.useEffect)((function(){document.body.style.backgroundColor=t.palette.secondary.main}),[t]),null===n?Object(a.jsx)(a.Fragment,{}):Object(a.jsx)("div",{className:e.root,children:Object(a.jsx)(Z,{})})},te=function(){var e=function(){var e=Object(c.useState)(null),t=Object(h.a)(e,2),n=t[0],r=t[1],a=Object(c.useRef)(null),i=Object(c.useCallback)((function(){var e=window.innerWidth;r({width:e,height:window.innerHeight,mainContainerWidth:Math.min(800,.92*e)})}),[]),o=Object(c.useCallback)((function(){null!==a.current&&(window.clearTimeout(a.current),a.current=null)}),[]),s=Object(c.useCallback)((function(){o(),a.current=window.setTimeout(i,500)}),[o,i]);return Object(c.useEffect)((function(){i()}),[i]),Object(c.useEffect)((function(){return window.addEventListener("resize",s),function(){window.removeEventListener("resize",s)}}),[s]),n}();return Object(a.jsx)(D.Provider,{value:e,children:Object(a.jsxs)(f.a,{theme:p,children:[Object(a.jsx)(u.a,{}),Object(a.jsx)(ee,{})]})})},ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,111)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};s.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(te,{})}),document.getElementById("root")),ne()}},[[80,1,2]]]);
//# sourceMappingURL=main.2c3b2463.chunk.js.map