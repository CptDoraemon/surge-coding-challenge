(this["webpackJsonpsurge-code-challenge"]=this["webpackJsonpsurge-code-challenge"]||[]).push([[0],{57:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var r,c=n(2),a=n(0),o=n.n(a),i=n(15),s=n.n(i),u=(n(57),n(106)),l=n(107),f=n(105),b=n(101),j=n(48),d=n(109),m=Object(j.a)({palette:{primary:{main:"rgb(60, 63, 65)",contrastText:"#eee"},secondary:{main:"rgb(43, 43, 43)",contrastText:"#eee"},info:{main:"rgb(60, 63, 65)",contrastText:"#eee"}},typography:{fontFamily:"system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji",fontSize:14,fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:500}}),p=m=Object(d.a)(m),O=n(9),h=function(e){var t=Object(a.useRef)(!1);Object(a.useEffect)((function(){t.current||(t.current=!0,e())}))},g=n(32),x=n.n(g),y=n(45),v=function(){var e=Object(a.useState)(!1),t=Object(O.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),o=Object(O.a)(c,2),i=o[0],s=o[1],u=Object(a.useState)(null),l=Object(O.a)(u,2),f=l[0],b=l[1],j=""!==i,d=Object(a.useCallback)((function(){s("")}),[]),m=Object(a.useCallback)((function(){s("Sever Error")}),[]);return{isLoading:n,setIsLoading:r,errorMessage:i,setErrorMessage:s,data:f,setData:b,isError:j,resetError:d,setGenericErrorMessage:m}},w=n(46),C=n.n(w);!function(e){e.USD="USD",e.CAD="CAD",e.EUR="EUR"}(r||(r={}));var k=function(e){var t="https://min-api.cryptocompare.com/data/top/mktcapfull?limit=10&tsym=".concat(e,"&api_key=4d646ccdea5094e1300c8846841310f384150830ecfa7ad715085f6da4320bab"),n=v(),r=n.isLoading,c=n.setIsLoading,a=n.errorMessage,o=n.setErrorMessage,i=n.data,s=n.setData,u=n.isError,l=n.resetError,f=n.setGenericErrorMessage;return{isLoading:r,data:i,isError:u,errorMessage:a,doGet:function(){var n=Object(y.a)(x.a.mark((function n(){var r,a,i,u,b,j;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c(!0),l(),n.next=5,C.a.get(t);case 5:r=n.sent,a=r.data,i=a.Data.map((function(e){return e.CoinInfo.Name})),u=a.Data.map((function(t){return t.DISPLAY[e].TOSYMBOL})),b=a.Data.map((function(t){return t.RAW[e].PRICE.toFixed(2)})),j=i.map((function(e,t){var n=Math.max(16,e.length+b[t].length+u[t].length+1),r=Math.max(n-e.length-b[t].length-u[t].length,0);return"".concat(e).concat(new Array(r).fill(" ").join("")).concat(u[t]).concat(b[t])})),s(j),n.next=18;break;case 14:n.prev=14,n.t0=n.catch(0),n.t0.data&&n.t0.data.message?o(n.t0.data.message):f();case 18:return n.prev=18,c(!1),n.finish(18);case 21:case"end":return n.stop()}}),n,null,[[0,14,18,21]])})));return function(){return n.apply(this,arguments)}}()}},S=n(13),E=n(110),I=n(4),M=Object(E.a)({dimension:{width:"100%",height:"100%"},centering:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},textStyles:{fontFamily:'"Archivo Black", sans-serif',backgroundColor:p.palette.primary.main,color:p.palette.primary.contrastText,fontWeight:400,textTransform:"uppercase"}}),N=Object(b.a)((function(e){return{root:{perspective:"1000px"},wrapper:Object(S.a)({position:"relative",transformStyle:"preserve-3d"},M.dimension),active:{transform:"rotateX(180deg)"},front:Object(S.a)(Object(S.a)(Object(S.a)({position:"absolute",backfaceVisibility:"hidden"},M.dimension),M.centering),M.textStyles),back:Object(S.a)(Object(S.a)(Object(S.a)({transform:"rotateX(180deg)",position:"absolute",backfaceVisibility:"hidden"},M.dimension),M.centering),M.textStyles)}})),T=function(e){var t=e.front,n=e.back,r=e.isFront,a=e.row,o=e.column,i=e.size,s=N(),u=i-2,l=.5*u;return Object(c.jsx)("div",{className:s.root,style:{width:u,height:u,margin:"".concat(.15*u,"px ").concat(1,"px")},children:Object(c.jsxs)("div",{className:Object(I.a)(s.wrapper,!r&&s.active),style:{transition:"transform 1000ms ".concat(500*a+100*o,"ms")},children:[Object(c.jsx)("div",{className:s.front,style:{fontSize:l},children:Object(c.jsx)("span",{children:t})}),Object(c.jsx)("div",{className:s.back,style:{fontSize:l},children:Object(c.jsx)("span",{children:n})})]})})},D=o.a.createContext(null),F=Object(b.a)((function(e){return{root:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"}}})),R=function(e,t){var n=e.slice();if(e.length<t)for(var r=t-e.length,c=0;c<r;c++)n.push(" ");return n},A=function(e){var t=e.frontText,n=e.backText,r=e.isFront,o=e.row,i=F(),s=Object(a.useMemo)((function(){return Math.max(t.length,n.length)}),[t,n]),u=Object(a.useMemo)((function(){return R(t.split(""),s)}),[t,s]),l=Object(a.useMemo)((function(){return R(n.split(""),s)}),[n,s]),f=Object(a.useContext)(D),b=f?Math.min(50,f.mainContainerWidth/s):0;return Object(c.jsx)("div",{className:i.root,children:u.map((function(e,t){return Object(c.jsx)(T,{front:e,back:l[t],isFront:r,column:t,row:o,size:b},t)}))})},L=n(103),z=n(108),B=n(102),W=Object(b.a)((function(e){return{root:{width:"100%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},button:{color:e.palette.primary.contrastText,fontWeight:700,margin:e.spacing(1),"&:hover":{backgroundColor:e.palette.primary.main},"&:first-child":{margin:e.spacing(1,1,1,0)}},unselectedButton:{backgroundColor:"transparent",border:"1px solid ".concat(e.palette.primary.main)},selectedButton:{backgroundColor:e.palette.primary.main,border:"1px solid ".concat(e.palette.primary.main)}}})),U=Object.keys(r),P=function(e){var t=e.currency,n=e.setCurrency,r=W();return Object(c.jsx)("div",{className:r.root,children:U.map((function(e){return Object(c.jsx)(B.a,{className:Object(I.a)(r.button,t===e&&r.selectedButton,t!==e&&r.unselectedButton),onClick:function(){return n(e)},children:e},e)}))})},G=function(e,t,n){var r=Object(a.useState)(null),c=Object(O.a)(r,2),o=c[0],i=c[1],s=Object(a.useRef)(o),u=Object(a.useRef)(null),l=Object(a.useRef)(e);return Object(a.useEffect)((function(){l.current!==e&&(l.current=e,i(Math.round(n/1e3)))}),[e,n]),Object(a.useEffect)((function(){s.current!==o?(s.current=o,null!==o&&(o>0?u.current=window.setTimeout((function(){i(o-1)}),1e3):(i(null),t()))):s.current=o}),[t,o]),Object(a.useEffect)((function(){return function(){null!==u.current&&window.clearTimeout(u.current)}}),[]),null===o?null:Math.round(1e3*o/n*100)},Y="loading...",H=Y+new Array(16-Y.length).fill(" ").join(""),J=function(){for(var e=[],t=0;t<10;t++)e.push(H);return e}(),V=function(e,t,n){var r=Object(a.useState)(!1),c=Object(O.a)(r,2),o=c[0],i=c[1],s=Object(a.useRef)(e);return Object(a.useEffect)((function(){s.current!==e?(s.current=e,null!==e&&(o?n(e):t(e),i((function(e){return!e})))):s.current=e})),o},X=n(104),_=Object(b.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},infoRow:{width:"100%",position:"relative"},spinner:{color:e.palette.secondary.contrastText,position:"absolute",right:0,top:"50%",zIndex:e.zIndex.snackbar},message:{width:"100%",margin:e.spacing(2,0)},link:{color:e.palette.secondary.contrastText,margin:e.spacing(1,0),width:"100%",textAlign:"right"}}})),q=function(e){var t=e.currency,n=e.setCurrency,r=e.isInfoShowed,o=e.setIsInfoShowed,i=_(),s=k(t),u=s.isLoading,l=s.data,f=s.isError,b=s.errorMessage,j=s.doGet,d=Object(a.useState)(J.slice()),m=Object(O.a)(d,2),p=m[0],g=m[1],x=Object(a.useState)(J.slice()),y=Object(O.a)(x,2),v=y[0],w=y[1],C=V(l,g,w),S=G(l,j,3e4);h((function(){j()}));var E={transform:"translateY(-50%) rotate(-90deg)"},I=Object(a.useMemo)((function(){return Object(c.jsx)(c.Fragment,{children:p.map((function(e,t){return Object(c.jsx)(A,{frontText:e,backText:v[t],isFront:C,row:t},t)}))})}),[v,p,C]);return Object(c.jsxs)("div",{className:i.root,children:[f&&Object(c.jsx)(z.a,{severity:"error",className:i.message,children:b}),r&&Object(c.jsx)(z.a,{severity:"info",className:i.message,onClose:function(){return o(!1)},children:"Coin price changes quickly, data is refreshed automatically every 30 seconds"}),Object(c.jsxs)("div",{className:i.infoRow,children:[u&&Object(c.jsx)(L.a,{size:25,className:i.spinner,style:E}),null!==S&&Object(c.jsx)(L.a,{size:25,variant:"static",className:i.spinner,value:S,style:E}),Object(c.jsx)(P,{currency:t,setCurrency:n})]}),I,Object(c.jsx)(X.a,{href:"https://min-api.cryptocompare.com/",target:"_blank",rel:"noopener",className:i.link,children:"API \ud83d\udcaa By CryptoCompare"})]})},K=n(81),Q=Object(b.a)((function(e){return{root:{backgroundColor:e.palette.secondary.main,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},title:{fontFamily:'"Archivo Black", sans-serif',color:e.palette.secondary.contrastText,textTransform:"capitalize",textAlign:"center",margin:e.spacing(0,0,1,0)}}})),Z=function(){var e=Q(),t=Object(a.useState)(r.USD),n=Object(O.a)(t,2),o=n[0],i=n[1],s=Object(a.useState)(!0),u=Object(O.a)(s,2),l=u[0],f=u[1];return Object(c.jsxs)("div",{className:e.root,children:[Object(c.jsx)(K.a,{component:"h2",variant:"h6",className:e.title,children:"top 10 coins by market cap"}),Object(c.jsx)(q,{currency:o,setCurrency:i,isInfoShowed:l,setIsInfoShowed:f},o)]})},$=Object(b.a)((function(e){return{root:{width:"100vw",maxWidth:"100%",margin:e.spacing(10,0)}}})),ee=function(){var e=$(),t=Object(l.a)(),n=Object(a.useContext)(D);return Object(a.useEffect)((function(){document.body.style.backgroundColor=t.palette.secondary.main}),[t]),null===n?Object(c.jsx)(c.Fragment,{}):Object(c.jsx)("div",{className:e.root,children:Object(c.jsx)(Z,{})})},te=function(){var e=function(){var e=Object(a.useState)(null),t=Object(O.a)(e,2),n=t[0],r=t[1],c=Object(a.useRef)(null),o=Object(a.useCallback)((function(){var e=window.innerWidth;r({width:e,height:window.innerHeight,mainContainerWidth:Math.min(1e3,e)})}),[]),i=Object(a.useCallback)((function(){null!==c.current&&(window.clearTimeout(c.current),c.current=null)}),[]),s=Object(a.useCallback)((function(){i(),c.current=window.setTimeout(o,500)}),[i,o]);return Object(a.useEffect)((function(){o()}),[o]),Object(a.useEffect)((function(){return window.addEventListener("resize",s),function(){window.removeEventListener("resize",s)}}),[s]),n}();return Object(c.jsx)(D.Provider,{value:e,children:Object(c.jsxs)(f.a,{theme:p,children:[Object(c.jsx)(u.a,{}),Object(c.jsx)(ee,{})]})})},ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,111)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),a(e),o(e)}))};s.a.render(Object(c.jsx)(o.a.StrictMode,{children:Object(c.jsx)(te,{})}),document.getElementById("root")),ne()}},[[80,1,2]]]);
//# sourceMappingURL=main.f7ad8a8c.chunk.js.map