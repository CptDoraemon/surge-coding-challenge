(this["webpackJsonpsurge-code-challenge"]=this["webpackJsonpsurge-code-challenge"]||[]).push([[0],{55:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var r,c=n(2),a=n(0),o=n.n(a),i=n(15),s=n.n(i),u=(n(55),n(101)),l=n(102),f=n(100),b=n(96),j=n(46),d=n(104),m=Object(j.a)({palette:{primary:{main:"rgb(60, 63, 65)",contrastText:"#eee"},secondary:{main:"rgb(43, 43, 43)",contrastText:"#eee"},info:{main:"rgb(60, 63, 65)",contrastText:"#eee"}},typography:{fontFamily:"system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji",fontSize:14,fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:500}}),p=m=Object(d.a)(m),O=n(10),g=function(e){var t=Object(a.useRef)(!1);Object(a.useEffect)((function(){t.current||(t.current=!0,e())}))},h=n(30),x=n.n(h),y=n(43),v=function(){var e=Object(a.useState)(!1),t=Object(O.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),o=Object(O.a)(c,2),i=o[0],s=o[1],u=Object(a.useState)(null),l=Object(O.a)(u,2),f=l[0],b=l[1],j=""!==i,d=Object(a.useCallback)((function(){s("")}),[]),m=Object(a.useCallback)((function(){s("Sever Error")}),[]);return{isLoading:n,setIsLoading:r,errorMessage:i,setErrorMessage:s,data:f,setData:b,isError:j,resetError:d,setGenericErrorMessage:m}},S=n(44),k=n.n(S);!function(e){e.USD="USD",e.CAD="CAD",e.EUR="EUR"}(r||(r={}));var C=function(e){var t="https://min-api.cryptocompare.com/data/top/mktcapfull?limit=10&tsym=".concat(e),n=v(),r=n.isLoading,c=n.setIsLoading,a=n.errorMessage,o=n.setErrorMessage,i=n.data,s=n.setData,u=n.isError,l=n.resetError,f=n.setGenericErrorMessage;return{isLoading:r,data:i,isError:u,errorMessage:a,doGet:function(){var n=Object(y.a)(x.a.mark((function n(){var r,a,i,u,b,j;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c(!0),l(),n.next=5,k.a.get(t);case 5:r=n.sent,a=r.data,i=a.Data.map((function(e){return e.CoinInfo.Name})),u=a.Data.map((function(t){return t.DISPLAY[e].TOSYMBOL})),b=a.Data.map((function(t){return t.RAW[e].PRICE.toFixed(2)})),j=i.map((function(e,t){var n=Math.max(15-e.length-b[t].length-u[t].length,0);return"".concat(e).concat(new Array(n).fill(" ").join("")).concat(u[t]).concat(b[t])})),s(j),n.next=18;break;case 14:n.prev=14,n.t0=n.catch(0),n.t0.data&&n.t0.data.message?o(n.t0.data.message):f();case 18:return n.prev=18,c(!1),n.finish(18);case 21:case"end":return n.stop()}}),n,null,[[0,14,18,21]])})));return function(){return n.apply(this,arguments)}}()}},w=n(13),E=n(105),I=n(4),M=Object(E.a)({dimension:{width:50,height:50},centering:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},textStyles:{fontFamily:'"Archivo Black", sans-serif',backgroundColor:p.palette.primary.main,color:p.palette.primary.contrastText,fontSize:"1.5rem",fontWeight:400,textTransform:"uppercase"}}),N=Object(b.a)((function(e){return{root:{perspective:"1000px",margin:1},wrapper:Object(w.a)({position:"relative",transformStyle:"preserve-3d"},M.dimension),active:{transform:"rotateX(180deg)"},front:Object(w.a)(Object(w.a)(Object(w.a)({position:"absolute",backfaceVisibility:"hidden"},M.dimension),M.centering),M.textStyles),back:Object(w.a)(Object(w.a)(Object(w.a)({transform:"rotateX(180deg)",position:"absolute",backfaceVisibility:"hidden"},M.dimension),M.centering),M.textStyles)}})),T=function(e){var t=e.front,n=e.back,r=e.isFront,a=e.row,o=e.column,i=N();return Object(c.jsx)("div",{className:i.root,children:Object(c.jsxs)("div",{className:Object(I.a)(i.wrapper,!r&&i.active),style:{transition:"transform 1000ms ".concat(500*a+100*o,"ms")},children:[Object(c.jsx)("div",{className:i.front,children:Object(c.jsx)("span",{children:t})}),Object(c.jsx)("div",{className:i.back,children:Object(c.jsx)("span",{children:n})})]})})},D=Object(b.a)((function(e){return{root:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",margin:e.spacing(2,0)}}})),F=function(e,t){var n=e.slice();if(e.length<t)for(var r=t-e.length,c=0;c<r;c++)n.push(" ");return n},L=function(e){var t=e.frontText,n=e.backText,r=e.isFront,o=e.row,i=D(),s=Object(a.useMemo)((function(){return Math.max(t.length,n.length)}),[t,n]),u=Object(a.useMemo)((function(){return F(t.split(""),s)}),[t,s]),l=Object(a.useMemo)((function(){return F(n.split(""),s)}),[n,s]);return Object(c.jsx)("div",{className:i.root,children:u.map((function(e,t){return Object(c.jsx)(T,{front:e,back:l[t],isFront:r,column:t,row:o},t)}))})},R=n(98),A=n(103),B=n(97),U=Object(b.a)((function(e){return{root:{width:"100%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},button:{color:e.palette.primary.contrastText,fontWeight:700,margin:e.spacing(1),"&:hover":{backgroundColor:e.palette.primary.main},"&:first-child":{margin:e.spacing(1,1,1,0)}},unselectedButton:{backgroundColor:"transparent",border:"1px solid ".concat(e.palette.primary.main)},selectedButton:{backgroundColor:e.palette.primary.main,border:"1px solid ".concat(e.palette.primary.main)}}})),z=Object.keys(r),W=function(e){var t=e.currency,n=e.setCurrency,r=U();return Object(c.jsx)("div",{className:r.root,children:z.map((function(e){return Object(c.jsx)(B.a,{className:Object(I.a)(r.button,t===e&&r.selectedButton,t!==e&&r.unselectedButton),onClick:function(){return n(e)},children:e},e)}))})},G=function(e,t,n){var r=Object(a.useState)(null),c=Object(O.a)(r,2),o=c[0],i=c[1],s=Object(a.useRef)(o),u=Object(a.useRef)(null),l=Object(a.useRef)(e);return Object(a.useEffect)((function(){l.current!==e&&(l.current=e,i(Math.round(n/1e3)))}),[e,n]),Object(a.useEffect)((function(){s.current!==o?(s.current=o,null!==o&&(o>0?u.current=window.setTimeout((function(){i(o-1)}),1e3):(i(null),t()))):s.current=o}),[t,o]),Object(a.useEffect)((function(){return function(){null!==u.current&&window.clearTimeout(u.current)}}),[]),null===o?null:Math.round(1e3*o/n*100)},P=function(){for(var e=[],t=0;t<10;t++)e.push("loading...     ");return e}(),J=function(e,t,n){var r=Object(a.useState)(!1),c=Object(O.a)(r,2),o=c[0],i=c[1],s=Object(a.useRef)(e);return Object(a.useEffect)((function(){s.current!==e?(s.current=e,null!==e&&(o?n(e):t(e),i((function(e){return!e})))):s.current=e})),o},V=Object(b.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},spinner:{color:e.palette.secondary.contrastText,position:"fixed",bottom:50,right:50,zIndex:e.zIndex.snackbar},message:{width:"100%",margin:e.spacing(2,0)}}})),X=function(e){var t=e.currency,n=e.setCurrency,r=e.isInfoShowed,o=e.setIsInfoShowed,i=V(),s=C(t),u=s.isLoading,l=s.data,f=s.isError,b=s.errorMessage,j=s.doGet,d=Object(a.useState)(P.slice()),m=Object(O.a)(d,2),p=m[0],h=m[1],x=Object(a.useState)(P.slice()),y=Object(O.a)(x,2),v=y[0],S=y[1];g((function(){j()}));var k=J(l,h,S),w=G(l,j,3e4),E=Object(a.useMemo)((function(){return Object(c.jsx)("div",{children:p.map((function(e,t){return Object(c.jsx)(L,{frontText:e,backText:v[t],isFront:k,row:t},t)}))})}),[v,p,k]);return Object(c.jsxs)("div",{className:i.root,children:[u&&Object(c.jsx)(R.a,{size:25,className:i.spinner}),null!==w&&Object(c.jsx)(R.a,{size:25,variant:"static",className:i.spinner,value:w}),f&&Object(c.jsx)(A.a,{severity:"error",className:i.message,children:b}),r&&Object(c.jsx)(A.a,{severity:"info",className:i.message,onClose:function(){return o(!1)},children:"Coin price changes quickly, data is refreshed automatically every 30 seconds"}),Object(c.jsx)(W,{currency:t,setCurrency:n}),E]})},Y=n(99),q=Object(b.a)((function(e){return{root:{backgroundColor:e.palette.secondary.main,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},title:{fontFamily:'"Archivo Black", sans-serif',color:e.palette.secondary.contrastText,textTransform:"capitalize",textAlign:"center",margin:e.spacing(0,0,1,0)}}})),H=function(){var e=q(),t=Object(a.useState)(r.USD),n=Object(O.a)(t,2),o=n[0],i=n[1],s=Object(a.useState)(!0),u=Object(O.a)(s,2),l=u[0],f=u[1];return Object(c.jsxs)("div",{className:e.root,children:[Object(c.jsx)(Y.a,{component:"h2",variant:"h6",className:e.title,children:"top 10 coins by market cap"}),Object(c.jsx)(X,{currency:o,setCurrency:i,isInfoShowed:l,setIsInfoShowed:f},o)]})},K=Object(b.a)((function(e){return{root:{width:"100vw",maxWidth:"100%",margin:e.spacing(10,0)}}})),Q=function(){var e=K(),t=Object(l.a)();return Object(a.useEffect)((function(){document.body.style.backgroundColor=t.palette.secondary.main}),[t]),Object(c.jsx)("div",{className:e.root,children:Object(c.jsx)(H,{})})},Z=function(){return Object(c.jsxs)(f.a,{theme:p,children:[Object(c.jsx)(u.a,{}),Object(c.jsx)(Q,{})]})},$=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,106)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),a(e),o(e)}))};s.a.render(Object(c.jsx)(o.a.StrictMode,{children:Object(c.jsx)(Z,{})}),document.getElementById("root")),$()}},[[78,1,2]]]);
//# sourceMappingURL=main.5d922132.chunk.js.map